webpackJsonp([1],{0:function(t,i,e){t.exports=e("NHnr")},G3BA:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("/5sW"),s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],a=e("XyMi");function r(t){e("G3BA")}var c=null,h=!1,d=r,p=null,l=null,u=Object(a["a"])(c,s,n,h,d,p,l),m=u.exports,y=e("/ocq"),g=(e("40PM"),e("Dgjt"),e("Tof4")),f=e.n(g),v=e("Z60a"),b=e.n(v),x=e("C9uT"),w=e.n(x),T=e("T/v0"),P=e.n(T),_=e("j/rp"),D=e.n(_),S=e("M1I4"),E=e.n(S);function G(t,i,e,o){var s=e.map(function(t){return O(t[0],t[1],t[2])});t.animations.add(i,s,o,!0)}function O(t,i,e){return t*e+i}function k(t){return t>.5?1:-1}var A={RIGHT:1,UP:2,DOWN:3,LEFT:4},I=function(t){function i(t){var e,o=t.game,s=t.x,n=t.y,a=t.asset;return b()(this,i),e=P()(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,s,n,a)),e.anchor.setTo(.5),e.died=!1,e.scale.setTo(16/24,16/24),G(E()(e),"right",[[3,4,16],[3,6,16],[7,0,16]],20),G(E()(e),"left",[[3,0,16],[3,2,16],[7,0,16]],20),G(E()(e),"up",[[3,1,16],[3,3,16],[7,0,16]],20),G(E()(e),"down",[[3,5,16],[3,7,16],[7,0,16]],20),G(E()(e),"stop",[[7,0,16]],20),G(E()(e),"die",[[7,4,16],[7,5,16],[7,6,16],[7,7,16],[7,8,16],[7,9,16],[7,10,16],[7,11,16],[7,12,16],[7,13,16],[7,14,16]],20),e.chompSound=o.add.audio("chomp"),e.dieSound=o.add.audio("die"),e.game.physics.arcade.enable(E()(e)),e.animations.play("stop"),e.cursors=e.game.input.keyboard.createCursorKeys(),e.game.input.onDown.add(e.onDown,E()(e)),e.game.input.onUp.add(e.onUp,E()(e)),e}return D()(i,t),w()(i,[{key:"update",value:function(){if(this.died)return this.body.velocity.x=0,void(this.body.velocity.y=0);this.lastPressed&&(this.lastPressed===A.LEFT?this.body.velocity.x=-90:this.lastPressed===A.RIGHT?this.body.velocity.x=90:this.lastPressed===A.UP?this.body.velocity.y=-90:this.body.velocity.y=90),this.cursors.left.isDown?this.go(A.LEFT):this.cursors.right.isDown?this.go(A.RIGHT):this.cursors.up.isDown?this.go(A.UP):this.cursors.down.isDown&&this.go(A.DOWN),this.body.position.x>this.body.prev.x?(this.animations.play("right"),this.chompSound.isPlaying||this.chompSound.play()):this.body.position.x<this.body.prev.x?(this.animations.play("left"),this.chompSound.isPlaying||this.chompSound.play()):this.body.position.y>this.body.prev.y?(this.animations.play("down"),this.chompSound.isPlaying||this.chompSound.play()):this.body.position.y<this.body.prev.y?(this.animations.play("up"),this.chompSound.isPlaying||this.chompSound.play()):(this.animations.stop(),this.chompSound.isPlaying&&this.chompSound.stop()),this.body.position.x<0?this.body.position.x=432:this.body.position.x>432&&(this.body.position.x=0)}},{key:"go",value:function(t){t===A.LEFT?(this.body.velocity.x=-90,this.lastPressed=A.LEFT):t===A.RIGHT?(this.body.velocity.x=90,this.lastPressed=A.RIGHT):t===A.UP?(this.body.velocity.y=-90,this.lastPressed=A.UP):t===A.DOWN&&(this.body.velocity.y=90,this.lastPressed=A.DOWN)}},{key:"onDown",value:function(t){}},{key:"onUp",value:function(t){console.log(t.position.y-t.positionDown.y),t.position.y-t.positionDown.y>0&&Math.abs(t.position.y-t.positionDown.y)>100&&this.go(A.DOWN),t.position.y-t.positionDown.y<0&&Math.abs(t.position.y-t.positionDown.y)>100&&this.go(A.UP),t.position.x-t.positionDown.x>0&&Math.abs(t.position.x-t.positionDown.x)>100&&this.go(A.RIGHT),t.position.x-t.positionDown.x<0&&Math.abs(t.position.x-t.positionDown.x)>100&&this.go(A.LEFT)}}]),i}(f.a.Sprite),M=function(t){function i(t){var e,o=t.game,s=t.x,n=t.y,a=t.asset;return b()(this,i),e=P()(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,s,n,a)),e.anchor.setTo(.5),e.scale.setTo(16/24,16/24),G(E()(e),"right",[[6,0,16],[6,1,16]],20),G(E()(e),"left",[[6,4,16],[6,5,16]],20),G(E()(e),"up",[[6,6,16],[6,7,16]],20),G(E()(e),"down",[[6,2,16],[6,3,16]],20),e.game.physics.arcade.enable(E()(e)),e.cursors=e.game.input.keyboard.createCursorKeys(),e.body.velocity.x=90*k(Math.random()),e.body.velocity.y=90*k(Math.random()),e.body.bounce.set(1),e.count=0,console.log(e.body.velocity.x,e.body.velocity.y),e.animations.play("right"),e}return D()(i,t),w()(i,[{key:"update",value:function(){this.count>=100&&(this.body.velocity.x=90*k(Math.random()),this.body.velocity.y=90*k(Math.random()),this.count=0),this.body.position.x>this.body.prev.x?this.animations.play("right"):this.body.position.x<this.body.prev.x?this.animations.play("left"):this.body.position.y>this.body.prev.y?this.animations.play("down"):this.body.position.y<this.body.prev.y?this.animations.play("up"):this.animations.stop(),this.body.position.x<0?this.body.position.x=432:this.body.position.x>432&&(this.body.position.x=0),this.count+=1}}]),i}(f.a.Sprite),N={name:"pacman",props:{width:Number,height:Number},data:function(){return{pacman:null,cursor:null,map:null,layer:null,lastPressed:null,score:0}},mounted:function(){this.newGame()},methods:{preload:function(){this.game.time.advancedTiming=!0,this.game.load.spritesheet("dot","/vue-phaser-pwa/img/pacman/dot.png"),this.game.load.spritesheet("pacman","/vue-phaser-pwa/img/pacman/pacman.png",24,24),this.game.load.image("tiles","/vue-phaser-pwa/img/pacman/pacman-tiles.png"),this.game.load.image("door","/vue-phaser-pwa/img/pacman/door.png"),this.game.load.tilemap("map","/vue-phaser-pwa/img/pacman/pacman-map.json",null,f.a.Tilemap.TILED_JSON),this.game.load.audio("chomp","/vue-phaser-pwa/img/pacman/pacman_chomp.wav"),this.game.load.audio("die","/vue-phaser-pwa/img/pacman/pacman-death-sound.mp3")},create:function(t){var i=this;this.game.time.desiredFps=30,this.pacman=new I({game:this.game,x:22,y:22,asset:"pacman"}),this.blinky=new M({game:this.game,x:226,y:180,asset:"pacman"}),this.map=this.game.add.tilemap("map"),this.map.addTilesetImage("pacman-tiles","tiles"),this.map.addTilesetImage("door","door"),this.layer=this.map.createLayer("Pacman"),this.layer.resizeWorld(),this.dots=this.game.add.physicsGroup(),this.map.createFromTiles(7,14,"dot",this.layer,this.dots),this.dots.setAll("x",6,!1,!1,1),this.dots.setAll("y",6,!1,!1,1),this.map.setCollisionByExclusion([7,14],!0,this.layer),this.game.add.existing(this.pacman),this.game.add.existing(this.blinky),this.game.scale.scaleMode=f.a.ScaleManager.SHOW_ALL,this.game.scale.setShowAll(),this.game.scale.maxHeight=496,this.game.scale.maxWidth=448,window.addEventListener("resize",function(){i.game.scale.refresh()}),this.game.scale.refresh(),this.cursors=this.game.input.keyboard.createCursorKeys()},update:function(t){var i=this;this.game.physics.arcade.collide(this.pacman,this.layer,this.collide,null,this),this.game.physics.arcade.collide(this.blinky,this.layer),this.dots.forEach(function(t){i.checkOverlap(t,i.pacman)&&t.alive&&(t.kill(),i.score+=100)}),this.game.physics.arcade.overlap(this.pacman,this.blinky,this.die,null,this)},render:function(t){this.game.debug.text(this.game.time.fps||"--",2,14,"#00ff00")},eatDot:function(t,i){this.score+=100,i.kill()},checkOverlap:function(t,i){var e=t.getBounds(),o=i.getBounds();return f.a.Rectangle.intersects(e,o)},die:function(t,i){t.died=!0,t.body.velocity.x=0,t.body.velocity.y=0,t.animations.play("die",10,!1),t.dieSound.isPlaying||t.dieSound.play(),t.animations.currentAnim.onComplete.add(function(){return t.kill()},this)},newGame:function(){this.$store.dispatch("initGame",{width:448,height:496,el:"gameScreen1",preload:this.preload,create:this.create,update:this.update,render:this.render})},resetGame:function(){this.dots.hash.forEach(function(t){t.reset(t.position.x,t.position.y)}),this.pacman.reset(22,22),this.pacman.body.velocity.x=0,this.pacman.body.velocity.y=0,this.pacman.lastPressed=null,this.pacman.died=!1,this.pacman.play("stop")}},watch:{loading:function(t){t?this.newGame():this.$store.dispatch("destroyGame")}},computed:{game:function(){return this.$store.getters.game},loading:function(){return this.$store.getters.loading},sprite:function(){}}},L=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"gameScreen"}},[e("div",{attrs:{id:"gameScreen1"}}),e("p",{staticClass:"white"},[t._v("Score: "+t._s(t.score))])])},U=[];function C(t){e("s8gC")}var j=!1,$=C,F="data-v-327b8814",H=null,R=Object(a["a"])(N,L,U,j,$,F,H),W=R.exports,B={name:"dashboard",components:{pacman:W},methods:{nextPage:function(){this.$router.push({path:"next"})}},computed:{},mounted:function(){}},K=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("div",{staticClass:"inner"},[e("pacman")],1)])},Y=[];function q(t){e("pQPI")}var z=!1,J=q,Q="data-v-8bc6a11a",X=null,Z=Object(a["a"])(B,K,Y,z,J,Q,X),V=Z.exports,tt=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")])])}],et=null,ot=!1,st=null,nt=null,at=null,rt=Object(a["a"])(et,tt,it,ot,st,nt,at),ct=rt.exports;o["a"].use(y["a"]);var ht,dt=new y["a"]({routes:[{path:"/",name:"home",component:V},{path:"/about",name:"about",component:ct}]}),pt=e("fKPv"),lt=e.n(pt),ut=e("NYxO");o["a"].use(ut["a"]);var mt=new ut["a"].Store({state:{loading:!0,game:null},getters:{loading:function(t){return t.loading},game:function(t){return t.game}},mutations:(ht={},lt()(ht,"UPDATE_LOADING",function(t,i){t.loading=i}),lt()(ht,"INIT_GAME",function(t,i){var e=new f.a.Game(i.width,i.height,f.a.AUTO,i.el,{preload:function(){return i.preload()},create:function(){return i.create()},update:function(){return i.update()},render:function(){return i.render()}});t.game=e}),lt()(ht,"DESTROY_GAME",function(t){t.game.destroy()}),ht),actions:{isLoading:function(t){var i=t.commit;t.state;console.log("loading"),i("UPDATE_LOADING",!0)},notLoading:function(t){var i=t.commit;t.state;console.log("not loading"),i("UPDATE_LOADING",!1)},initGame:function(t,i){var e=t.commit;t.state;e("INIT_GAME",i)},destroyGame:function(t){var i=t.commit;t.state;i("DESTROY_GAME")}}}),yt=e("ydGU");Object(yt["a"])("".concat("/vue-phaser-pwa/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),o["a"].config.productionTip=!1,new o["a"]({router:dt,store:mt,render:function(t){return t(m)}}).$mount("#app")},pQPI:function(t,i){},s8gC:function(t,i){}},[0]);
//# sourceMappingURL=app.89197363.js.map